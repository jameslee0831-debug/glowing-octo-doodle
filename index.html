<!DOCTYPE html>
<html lang="zh-TW">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>è€—å‘†æ€¡ç¾é£Ÿæ‹‰éœ¸æ©Ÿ</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <style>
        @import url('https://fonts.googleapis.com/css2?family=Noto+Sans+TC:wght@400;700;900&display=swap');
        
        :root {
            --primary: #ff4757;
            --secondary: #ffa502;
            --accent: #2ed573;
        }

        body {
            font-family: 'Noto Sans TC', sans-serif;
            background: radial-gradient(circle at center, #fff5f5 0%, #ffe0e0 100%);
            min-height: 100vh;
            overflow-x: hidden;
            margin: 0;
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: center;
        }

        /* æ¨™é¡Œæµ®å‹•å‹•ç•« */
        .floating {
            animation: floating 3s ease-in-out infinite;
        }
        @keyframes floating {
            0%, 100% { transform: translateY(0px); }
            50% { transform: translateY(-10px); }
        }

        /* æ‹‰éœ¸æ©Ÿå¤–æ¡†æ•ˆæœ */
        .slot-machine {
            background: #2d3436;
            border: 10px solid #1e272e;
            box-shadow: 
                0 0 20px rgba(255, 71, 87, 0.5),
                inset 0 0 15px rgba(0,0,0,0.5);
            position: relative;
        }

        .reel-container {
            background: #f8f9fa;
            border: 6px inset #333;
            height: 100px;
            overflow: hidden;
            position: relative;
        }

        .reel {
            display: flex;
            flex-direction: column;
        }

        .food-item {
            height: 100px;
            min-height: 100px;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 1.4rem;
            font-weight: 900;
            color: #2d3436;
            text-align: center;
            width: 100%;
        }

        /* æ­¡è¿å±¤ */
        #welcomeOverlay {
            transition: all 0.5s ease-out;
        }
        .fade-out {
            opacity: 0;
            visibility: hidden;
            transform: scale(1.1);
        }

        .btn-gradient {
            background: linear-gradient(to bottom, #f1c40f, #f39c12);
            box-shadow: 0 6px 0 #d35400;
            transition: all 0.1s;
        }
        .btn-gradient:active {
            transform: translateY(4px);
            box-shadow: 0 2px 0 #d35400;
        }
    </style>
</head>
<body class="p-4">

    <!-- æ­¡è¿é–‹å ´ç•«é¢ -->
    <div id="welcomeOverlay" class="fixed inset-0 z-50 bg-white flex flex-col items-center justify-center p-6 text-center">
        <div class="mb-8 floating">
            <div class="text-6xl mb-4">ğŸ˜‹</div>
            <h1 class="text-4xl font-black text-red-500 mb-2">è€—å‘†æ€¡ç¾é£Ÿæ‹‰éœ¸æ©Ÿ</h1>
            <p class="text-gray-500">å£«æ—å‰æ¸¯å…¬åœ’å‘¨é‚Šç²¾é¸å°åƒ</p>
        </div>
        <button onclick="enterApp()" class="bg-red-500 text-white px-12 py-4 rounded-full text-xl font-bold shadow-lg hover:bg-red-600 transition-all">
            è‚šå­é¤“äº†ï¼Œé–‹æŠ½ï¼
        </button>
        <p class="mt-8 text-xs text-gray-400">å°ˆç‚ºåƒè²¨è¨­è¨ˆçš„å°èˆªå°å¹«æ‰‹</p>
    </div>

    <div class="max-w-md w-full text-center space-y-8">
        <header class="pt-4">
            <h1 class="text-4xl font-black text-gray-800 mb-2 flex items-center justify-center">
                <span class="mr-2">ğŸ°</span> è€—å‘†æ€¡ç¾é£Ÿ <span class="text-red-500">æ‹‰éœ¸</span>
            </h1>
            <div class="inline-block bg-white px-4 py-1 rounded-full shadow-sm text-sm font-bold text-gray-500 border border-gray-100">
                ğŸ“ å‰æ¸¯å…¬åœ’ 2km å…§ â€¢ 4â˜… åš´é¸
            </div>
        </header>

        <!-- æ‹‰éœ¸æ©Ÿæœ¬é«” -->
        <div class="slot-machine rounded-[2rem] p-8">
            <div class="reel-container rounded-xl shadow-inner mb-8 bg-white">
                <div id="reel" class="reel">
                    <div class="food-item">ä»Šå¤©åƒä»€éº¼ï¼Ÿ</div>
                </div>
            </div>

            <button id="spinBtn" class="btn-gradient w-full py-5 rounded-2xl text-2xl font-black text-white uppercase tracking-tighter">
                æŒ‰ä¸‹é–‹å§‹æ‹‰éœ¸
            </button>
            
            <!-- è£é£¾ç‡ˆæ³¡ -->
            <div class="mt-4 flex justify-between px-2">
                <div class="w-3 h-3 rounded-full bg-red-400 animate-pulse"></div>
                <div class="w-3 h-3 rounded-full bg-yellow-400 animate-pulse" style="animation-delay: 0.2s"></div>
                <div class="w-3 h-3 rounded-full bg-green-400 animate-pulse" style="animation-delay: 0.4s"></div>
                <div class="w-3 h-3 rounded-full bg-blue-400 animate-pulse" style="animation-delay: 0.6s"></div>
            </div>
        </div>

        <!-- çµæœå¡ç‰‡ -->
        <div id="resultContainer" class="hidden">
            <div class="bg-white rounded-3xl p-6 shadow-2xl border-2 border-dashed border-red-200 relative overflow-hidden">
                <div class="absolute -right-4 -top-4 text-6xl opacity-10 rotate-12">ğŸœ</div>
                
                <div class="relative z-10">
                    <span id="resType" class="inline-block bg-orange-100 text-orange-600 text-xs px-3 py-1 rounded-full font-bold mb-2">é¡åˆ¥</span>
                    <h2 id="resName" class="text-3xl font-black text-gray-800 mb-3">åº—åè¼‰å…¥ä¸­</h2>
                    
                    <div class="flex justify-center items-center space-x-2 mb-6">
                        <div class="bg-yellow-400 text-white px-3 py-1 rounded-lg font-black flex items-center">
                            <span class="mr-1">â˜…</span>
                            <span id="resRating">4.5</span>
                        </div>
                        <span class="text-gray-400 text-sm">Google æ»¿æ„æ¨è–¦</span>
                    </div>

                    <button id="mapBtn" class="w-full bg-indigo-600 hover:bg-indigo-700 text-white py-4 rounded-2xl font-bold shadow-lg transition-all flex items-center justify-center">
                        <svg class="w-6 h-6 mr-2" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M17.657 16.657L13.414 20.9a1.998 1.998 0 01-2.827 0l-4.244-4.243a8 8 0 1111.314 0z" />
                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M15 11a3 3 0 11-6 0 3 3 0 016 0z" />
                        </svg>
                        å°èˆªåˆ°é€™å®¶åº—
                    </button>
                </div>
            </div>
        </div>

        <footer class="text-xs text-gray-400 pb-8">
            <p>Â© è€—å‘†æ€¡ç¾é£Ÿç³»åˆ— - åœ°åœ–è³‡æ–™åƒ…ä¾›åƒè€ƒ</p>
        </footer>
    </div>

    <script>
        // åº—å®¶åå–®
        const shops = [
            { name: "è±ç››è™Ÿ (å£«æ—ç¸½åº—)", type: "ç‚­çƒ¤åœŸå¸", rating: "4.0" },
            { name: "å‹‡æ°£æ—©é¤", type: "ç²¾ç·»æ—©åˆé¤", rating: "4.3" },
            { name: "åŠç¬¬äººå®¶", type: "æ‰‹å·¥æ°´é¤ƒéºµé£Ÿ", rating: "4.2" },
            { name: "æµ·å‹åå…¨æ’éª¨", type: "è—¥è†³æ’éª¨", rating: "4.1" },
            { name: "é¾è¨˜åŸä¸Šæµ·ç”Ÿç…åŒ…", type: "ç”Ÿç…åŒ…å°åƒ", rating: "4.1" },
            { name: "å®¶é„‰ç¢³çƒ¤é›æ’", type: "ç¢³çƒ¤é›æ’", rating: "4.1" },
            { name: "ç›´ç«äººç‡’è‚‰ä¸¼", type: "æ—¥å¼ä¸¼é£¯", rating: "4.2" },
            { name: "æ—©å§ Morning Bar", type: "è„†çš®è›‹é¤…", rating: "4.1" },
            { name: "æ»¿ä½³é¦™æ¼¢å ¡åº—", type: "å°å¼æ—©é¤", rating: "4.0" },
            { name: "éƒ­å®¶è”¥æ²¹é¤…", type: "ç‚¸è›‹è”¥æ²¹é¤…", rating: "4.1" },
            { name: "éµè‚‰å·", type: "ç†±ç‚’éµè‚‰", rating: "4.1" },
            { name: "å¿ èª å±±æ±è”¥æ²¹é¤…", type: "ç‡ˆäº®æœ‰é¤…", rating: "4.4" },
            { name: "ä¸ç¥–èƒ¡æ¤’é¤…", type: "èƒ¡æ¤’é¤…", rating: "4.2" },
            { name: "æ–Œå¤§è…¸åŒ…å°è…¸", type: "å¤œå¸‚åç”¢", rating: "4.1" },
            { name: "é˜¿è¼éºµç·š", type: "ç±³å…¶æ—éºµç·š", rating: "4.0" }
        ];

        const reel = document.getElementById('reel');
        const spinBtn = document.getElementById('spinBtn');
        const resultContainer = document.getElementById('resultContainer');
        const resName = document.getElementById('resName');
        const resRating = document.getElementById('resRating');
        const resType = document.getElementById('resType');
        const mapBtn = document.getElementById('mapBtn');
        const welcomeOverlay = document.getElementById('welcomeOverlay');

        let isSpinning = false;

        function enterApp() {
            welcomeOverlay.classList.add('fade-out');
            setTimeout(() => welcomeOverlay.style.display = 'none', 500);
        }

        function initReel() {
            reel.innerHTML = '';
            const shuffled = [...shops].sort(() => Math.random() - 0.5);
            // é‡è¤‡åå–®ä¾†å¢åŠ æ»¾å‹•é•·åº¦
            const displayList = [...shuffled, ...shuffled, ...shuffled, ...shuffled, ...shuffled];
            
            displayList.forEach(shop => {
                const div = document.createElement('div');
                div.className = 'food-item';
                div.innerText = shop.name;
                reel.appendChild(div);
            });
            return shuffled;
        }

        spinBtn.addEventListener('click', () => {
            if (isSpinning) return;
            
            isSpinning = true;
            resultContainer.classList.add('hidden');
            const shuffled = initReel();
            
            const itemHeight = 100;
            const winnerIndex = Math.floor(Math.random() * shuffled.length);
            // æ»¾å‹•åˆ°å€’æ•¸ç¬¬äºŒçµ„çš„å°æ‡‰ä½ç½®ï¼Œç¢ºä¿å‹•ç•«é•·åº¦å……è¶³
            const targetTranslate = (3 * shuffled.length + winnerIndex) * itemHeight;
            
            reel.style.transition = 'none';
            reel.style.transform = `translateY(0)`;
            reel.offsetHeight; // å¼·åˆ¶ç€è¦½å™¨é‡ç¹ª
            
            reel.style.transition = 'transform 3.5s cubic-bezier(0.15, 0, 0.15, 1)';
            reel.style.transform = `translateY(-${targetTranslate}px)`;

            setTimeout(() => {
                const winner = shuffled[winnerIndex];
                showResult(winner);
                isSpinning = false;
            }, 3700);
        });

        function showResult(shop) {
            resName.innerText = shop.name;
            resRating.innerText = shop.rating;
            resType.innerText = shop.type;
            resultContainer.classList.remove('hidden');
            
            // å¹³æ»‘æ»¾å‹•åˆ°çµæœ
            setTimeout(() => {
                resultContainer.scrollIntoView({ behavior: 'smooth', block: 'center' });
            }, 100);
            
            mapBtn.onclick = () => {
                const query = encodeURIComponent(shop.name + " å£«æ—");
                window.open(`https://www.google.com/maps/search/?api=1&query=${query}`, '_blank');
            };
        }

        // åˆå§‹è¼‰å…¥
        initReel();
    </script>
</body>
</html>


